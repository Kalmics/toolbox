<!DOCTYPE html>
<html><head>
   <link rel="icon" type="image/png" sizes="32x32" href="../../../favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="16x16" href="../../../favicon-16x16.png">
   <link href="https://fonts.googleapis.com/css?family=Archivo" rel="stylesheet"> 
   <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed" rel="stylesheet">
   <script src="../../../js/vendor/lunr/lunr.min.js"></script>
   
   
   
   
   <link rel="stylesheet" href="../../../scss/main.css">
   <title>HOT Toolbox</title>
</head><body   ><header class="header" >
    <div class="header__container">
        <img src="../../../svg/hot-logo-red.svg" alt=""><h4 class="title site-title">HOT Toolbox</h4>
        <div>
        
    </div><ul class="browse-select-options browse-select-options--hidden js-browse-select-options">

</ul></div>
        
        <a class="hotosm-link" href="https://hotosm.org">hotosm.org</a> 
        <div class="hamburger-icon"></div>
    </div>
</header>

<div class="main">
    <aside class="menu">
        <div class="menu__container">


<h2 class="title">HOT Toolbox</h2> 






<input class="search" type="text" placeholder="Search documentation">
<div class="search-results">
    <ul class="results-list"></ul>
</div>




    

        <div class="
        
        accordion accordion--closed
        
        ">
            Designing and Coordinating a Mapping Project
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.0-overview-designing-coordinating/" class="menu-link">1.0 Introduction to Designing a Mapping Project</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.1_defining_needs_and_requirements/" class="menu-link">1.1 Defining Needs and Requirements</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.2_safety_security_and_logistics/" class="menu-link">1.2 Safety, Security, and Logistics</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.3-hardware/" class="menu-link">1.3 Selecting Hardware</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/2.4-trainings-and-workshops/" class="menu-link">2.4 Trainings and Workshops</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Digitization and Editing in OSM
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.0-digitization-and-editing/" class="menu-link">2.0 Introduction to Digitization and Editing in OSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.1_introduction_to_openstreetmap/" class="menu-link">2.1 Introduction to OpenStreetMap</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.2_organized_osm_editing/" class="menu-link">2.2 Organized OSM Editing</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.3-working-with-the-hot-tasking-manager/" class="menu-link">2.3 Working with the HOT Tasking Manager</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.4-editing-with-id-and-josm/" class="menu-link">2.4 Editing with iD and JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.5_validating_with_josm/" class="menu-link">2.5 Validating with JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/3.6-data-conflict-in-josm/" class="menu-link">3.6 Resolving conflicts in JOSM</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Field Mapping Technical Set-up
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.0_technical_set-up/" class="menu-link">3.0 Introduction to Technical Set-up for Field Mapping</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.1-designing-the-data-model/" class="menu-link">4.1 Designing The Data Model</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.2-data-collection-applications/" class="menu-link">4.2 Data collection applications</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.2.2_setting_up_omk/" class="menu-link">4.2.2 Setting up OpenMapKit</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.3-navigation-applications/" class="menu-link">4.3 Navigation Applications</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/4.7-data-collection-servers/" class="menu-link">4.7 Data Collection Servers</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Field Mapping Management
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.0-field-mapping-management/" class="menu-link">4.0 Introduction to Field Mapping Management</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/5.1_using_odk_collect/" class="menu-link">5.1 Using ODK Collect</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/5.2_using_openmapkit/" class="menu-link">5.2 Using the OpenMapKit Application</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/5.3_using_osm_tracker/" class="menu-link">5.3 Using OSMTracker</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/5.4_managing_teams_in_the_field/" class="menu-link">5.4 Managing Teams in the Field using OsmAnd and QGIS</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--open
        
        ">
            Data Cleaning, Upload, and Quality Assurance
        </div>
        <div class="panel
        
        panel--open
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/6.0-data-cleaning-qa/" class="menu-link">6.0 Data Cleaning, Upload, and Quality Assurance</a></li>
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/5.2-omk-field-data-cleaning-workflow/" class="menu-link menu-link--active">5.2 OMK Field Data Cleaning Workflow</a></li>
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/6.3-data-cleaning-with-josm/" class="menu-link">5.3 Data Cleaning with JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/5.4-quality-assurance-tools/" class="menu-link">5.4 Quality Assurance and Quality Control Tools</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Data Export Tools
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-export/7.0-data-export-tools/" class="menu-link">7.0 Data Export Tools</a></li>
                    
                        <li class="page"><a href="../../../pages/data-export/6.1-hot-export-tool/" class="menu-link">6.1 HOT Export Tool</a></li>
                    
                        <li class="page"><a href="../../../pages/data-export/6.2-hdx/" class="menu-link">6.2 Humanitarian Data Exchange (HDX)</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Data Use and Analysis
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/8.0_data-use-and-analysis/" class="menu-link">8.0 Data Use and Analysis</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.1.4-creating-maps-in-print-composer/" class="menu-link"></a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/8.1-qgis/" class="menu-link">8.1 Introduction to QGIS</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/8.2-creating-an-atlas-in-qgis/" class="menu-link">8.2 Creating Maps and Atlases in QGIS</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/8.3_web_and_interactive_maps/" class="menu-link">8.3 Web &amp; Interactive Maps</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Mapping Project Workflows
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/getting_started/1.2.1_example_fieldmappingbuildings_poi/" class="menu-link">1.1 Mapping Buildings and POI with OMK Workflow</a></li>
                    
                        <li class="page"><a href="../../../pages/getting_started/1.2_mappingpoi_withodk/" class="menu-link">1.1 Mapping POI with ODK &#43; KoboToolbox Server</a></li>
                    
                </ul>
            </div>
    

<a class="pdf-download"  
    
    href="../../../pdfs/HOT_Toolbox.pdf">
    

    <div>
        <div class="title">Download the entire file</div>
        <div class="sub-title sub-title-12">pdf</div>
    </div>
</a></div>
    </aside>
    <main class="article"><div class="article__container">

 
   <div class="git-info">
<div class="">
  
  <div>
    
    <a href="https://github.com/hotosm/toolbox/commit/d4f1206b8cb15d1fc87b2d3f14f72a3b07d167aa" class="sub-title sub-title-14" title='Last modified June 18, 2019 by Russ Biggs' target="_blank" rel="noopener">
      Last modified: June 18, 2019
    </a>
  </div>
  
</div>
</div>
    <div class="article-body">
           <h1 class="page-title">5.2 OMK Field Data Cleaning Workflow</h1>

<p>After field data collection with OMK, clean the data before upload to OSM. Below is an example version of the OMK Field Data Cleaning Procedure. This is provided for guidance but should be modified as needed.</p>

<p><strong>Skills and Technology Needed</strong>
* JOSM</p>

<hr />

<h3 id="step-1-create-folders">Step 1. Create folders</h3>

<p><em>Create the folder structure for the data cleaning process.</em></p>

<ol>
<li>Create primary working folder: <code>[omk_field_data_cleaning]</code></li>
<li>Create a container folder:
<code>[village_name]_[current-date]</code>. For example: <code>akweteyman_2019-01-31</code></li>
<li>Create a sub-folders within the container folder:

<ol>
<li>Add a folder for the raw data: <code>/01_raw_[yourOSMname]</code></li>
<li>Add a folder for the working data: <code>/02_working_[yourOSMname]</code></li>
<li>Add a folder for the final data: <code>/03_final_[yourOSMname]</code></li>
</ol></li>
</ol>

<h3 id="step-2-raw-files">Step 2. Raw Files</h3>

<p><em>Supervisor or team leader will download data from the server, and select sections of data for individual data cleaners to clean up.</em></p>

<p><strong>For Supervisor:</strong></p>

<ul>
<li><p><em>Each mapper’s device id (IMEI) and username should be registered, to keep track of their submissions to the server.</em></p></li>

<li><p><em>Using the filter option of the server, filter server submissions according to dates, download data for a specific data, divide it into subsections and give those to the data cleaning team.</em></p></li>
</ul>

<ol>
<li>Create a sub folder <code>[server_downloads]</code> for all downloads from the server naming downloads according to the date of download, i.e <code>akweteyman_2019-01-31_server_download.osm</code></li>
<li>While dividing out this data to the different team members, <strong>purge</strong> everything else except what you want to give to a specific team member, and then ‘Save As…’ that section. Do not copy a section of the data downloaded from the OMK server into another new file, as this will not sync while downloading data from OSM database to start cleaning field data. Read about the purge action: <a href="https://josm.openstreetmap.de/wiki/Help/Action/Purge">https://josm.openstreetmap.de/wiki/Help/Action/Purge</a></li>
<li>Do this for every team member you are giving data to clean.</li>
</ol>

<p><strong>For data cleaners:</strong></p>

<ol>
<li>The file your supervisor gives you will be named as: <code>[projectArea_name]_[current-date]_raw_[yourOSMusername_raw]_[id]</code>. For example:  <code>akweteyman_2019-01-31_raw_lusdavo.osm</code></li>
<li>Copy the file your team leader gives you to the <code>[projectArea_name]_[current-date]</code> →  <code>01_raw_[your_OSMusername]_[id]</code> folder. Format dates as YYYY-MM-DD.</li>
</ol>

<p>For example:</p>

<p><code>akweteyman_2019-01-31</code>  →  <code>01_raw_lusdavo</code> →  <code>akweteyman_2019-01-31_raw_lusdavo_10.osm</code></p>

<p><em>NB: The <id> represents project area subdivisions you are supposed to be working on.</em></p>

<h3 id="step-3-add-osm-files-to-josm">Step 3. Add OSM Files to JOSM</h3>

<p><em>Add file to JOSM</em></p>

<ol>
<li>Open JOSM</li>
<li>Drag the .osm file into JOSM</li>
</ol>

<h3 id="step-4-sync-field-data-with-osm-data">Step 4. Sync Field Data with OSM Data</h3>

<p><em>This step covers a series of checks on the data to check if there are any issues with the data.</em></p>

<ol>
<li>You will need several <em>plugins</em> during this cleaning process. <br> Read about plugins here: <a href="https://wiki.openstreetmap.org/wiki/JOSM/Plugins">https://wiki.openstreetmap.org/wiki/JOSM/Plugins</a>. <br> Add the following plugins:</li>
<li><code>todo</code></li>
<li><code>opendata</code></li>
<li><code>utilsplugin2</code></li>

<li><p><code>buildings_tool</code></p></li>

<li><p>You will be using several filters during your cleaning process. <br> Read about Filters here: <a href="https://josm.openstreetmap.de/wiki/Help/Dialog/Filter">https://josm.openstreetmap.de/wiki/Help/Dialog/Filter</a>. <br> Add the following filters:
‘type:node untagged’
‘new OR modified’</p></li>

<li><p>Prepare your data for cleaning:</p></li>

<li><p>Select field collected data using the JOSM filter: <code>type:node untagged</code></p></li>

<li><p>Select all results (Ctrl+A)</p></li>

<li><p>Add the selection to the TodoList plugin. In the plugin window, click ‘+ Add’</p></li>

<li><p>Deselect results by clicking in the ‘Map View’ window</p></li>

<li><p>Download OSM data in the area of the field collected data, to ensure we merge properly with existing OSM data</p>

<ul>
<li>Press ‘2’ on the keyboard to zoom to the extents of your field collected data</li>
<li>Select ‘File -&gt; Download in current view’</li>
</ul></li>

<li><p>Now save this file to your ‘working folder’</p>

<ul>
<li>File →   Save As → <code>[projectArea_name]_[current-date]_working/[working_yourOSMusername]_[id]</code></li>
<li>For example:  <code>akweteyman_2019-01-31_working_lusdavo_10.osm</code></li>
</ul></li>
</ol>

<p><strong>Step 5. Cleaning Data</strong></p>

<ol>
<li>Select/enable the filter ‘new OR modified’</li>
<li>Select only new or modified data using the JOSM filter: ‘new OR modified’, tick ‘E’ and ‘I’ to differentiate between field data and OSM Server data. Check if everything looks okay.</li>
<li>You are now going to clean the ‘working’ file in JOSM.</li>
<li>Add Imagery being used to clean data.</li>
<li>Uncheck the ‘type:node untagged’ filter to enable you edit features.</li>
<li>Convert all building nodes to polygons by using replace geometry feature.</li>
<li>From the ToDoList, inspect each feature (select the first one in the TodoList)</li>
<li>Are the locations correct?</li>
<li>Convert comments into possible tags as possible else change the key to fixme</li>
<li>Are there any spelling mistakes in the attributes of this feature?</li>
<li>Are the tags capitalised correctly?</li>
<li>Are the tags fields filled correctly?</li>
<li>Are we not duplicating existing OSM data?</li>
<li>Expand all text and correct all text, examples below:

<ul>
<li>St. → Street</li>
<li>Ave → Avenue</li>
<li>Ltd. → Limited</li>
<li>BANK OF GHANA → Bank of Ghana</li>
<li>GOIL → Goil, etc</li>
</ul></li>
<li>If okay, click ‘Mark’ in TodoList to proceed to the next item</li>
</ol>

<h3 id="5-1-cleaning-apartments">5.1  Cleaning Apartments</h3>

<p>Use the <code>Terrace a Building</code> tool to divide a building into the different number of apartment units that building has, then copy and paste attributes from an apartment point to the respective building terrace. If a building is 5 or more sided, manually draw the different apartments connecting them together.</p>

<h3 id="5-2-record-errors-encountered">5.2  Record Errors Encountered</h3>

<p><em>Capture common problems that come up while cleaning data.</em></p>

<ol>
<li>Data cleaners should record any errors and problems encountered (both while mapping and validating).</li>
<li>Please record this in a text file with screenshots if possible</li>
<li>Save edits to <code>&lt;projectArea_name&gt;_&lt;current_date&gt;/02_working’</code> folder.</li>
</ol>

<h3 id="step-6-save-final-files">Step 6. Save Final Files</h3>

<blockquote>
<p>NOTE: Some projects may require that datasets are split into public and private datasets, where the full dataset remains private, and personal/private data is removed from the partial dataset uploaded to OSM. For similar situations, use 6.1 and 6.2. For projects where all data collected is public and can be uploaded to OSM, skip to 6.2</p>
</blockquote>

<ol>
<li>Right-click the working layer and select ‘Save As..’</li>
<li>You are to ‘Save As..’ to the final folder. Team Leaders are to review their team’s data validation. If satisfied, get the Group Supervisor to double check the data.</li>
<li>Disable all filters used during data cleaning.</li>
<li>Run ‘Validation’ in the ‘Validate Results’ window. Correct any errors that are detected, and go through the warnings.</li>
<li>Notify supervisor for review.</li>
</ol>

<h3 id="6-1-private-data">6.1 Private Data</h3>

<p><strong>If full data set includes private/personal information:</strong>
1. Save to the final layer: <code>[projectArea_name]/[current_date]/03_final_private</code>, for example <code>akweteyman/2019-01-31/03_final_lusdavo</code> folder.
   * File name: <code>akweteyman_2019-01-31_final_lusdavo_10.osm</code>
2. From the saved file to be uploaded to OSM, remove the private/personal attributes before uploading to OSM (enable the type:node untagged and new OR modified filters).
   * For example:
      * building:population
      * building:sleeping_spaces
      * building:rooms
      * Building:rooms_painted</p>

<p>NOTE: Do not overwrite the _private file. These changes will be saved to a new layer in step 6.2.</p>

<h3 id="6-2-public-data-for-upload-to-osm">6.2 Public Data for upload to OSM</h3>

<ol>
<li>Save to the final layer: <code>[projectArea_name]/[current_date]/03_final</code>, for example <code>akweteyman/2019-01-31/03_final_lusdavo</code> folder.

<ul>
<li>File name: <code>akweteyman_2019-01-31_final_lusdavo_10.osm</code></li>
</ul></li>
<li>Notify supervisor for review</li>
</ol>

<h3 id="step-7-upload-to-osm">Step 7. Upload to OSM</h3>

<p><em>If Supervisor authorises, upload the validated data to OSM</em></p>

<ol>
<li>Add the <strong>source</strong> tag to all field data. At minimum, <code>Field Survey</code>

<ul>
<li>Example: source= Open Cities Accra - Field Survey</li>
</ul></li>
<li>Disable the ‘type:node untagged’ and ‘new OR modified’ filters</li>
<li>With your OSM Username and Password added to JOSM preferences, upload to OSM adding the appropriate tags for the project as a changeset comment.

<ul>
<li>Example: <code>#OpenCitiesAfrica #OSMGhana #MobileWebGhana #HOTOSM</code>  Specify the data source for change as survey.</li>
</ul></li>
</ol>

<h3 id="step-8-quality-assurance-using-osmcha-qgis-josm-osmose">Step 8. Quality Assurance using OSMCha|QGIS|JOSM|Osmose</h3>

<p><em>This is intended to be used by supervisors to ensure data quality</em></p>

<p>Once data is cleaned and uploaded to OSM, several tools will be used to monitor Quality Assurance.
* OSM Cha: Will be used to monitor the edits made by users uploading data to OSM, Filters will be made using UserIDs of data to give a summary of modified, deleted, added nodes, which the QA person will review and either flag as bad or good, sending feedback to the person who uploaded the data. Example of filtered changesets
* JOSM: JOSM Validation tools, filters and customised MapCSS will be used to flag data quality issues, then give feedback to the data entry people for improvement.
* Osmose</p>

<p>For more information, see <a href="https://github.com/hotosm/toolbox/wiki/5.4-Quality-Assurance-Tools">Quality Assurance Tools</a>.</p>
</div>




    

    

    

    

    
     
    

    

    

    





<a class="next-page" href="../../../pages/data-cleaning-upload-and-quality-assurance/6.3-data-cleaning-with-josm/">
    <div class="next-page__container">
            <div class="sub-title sub-title-10">READ NEXT</div>
            <div class="next-title">5.3 Data Cleaning with JOSM</div>
    </div>
    <img src="../../../svg/forward-arrow.svg" alt="">
</a>

</div></main>
    <aside class="toc"><div class="toc__container">
    
    
    <div class="toc-list">
        <h4 class="sub-title sub-title-10">ON THIS PAGE</h4>
        <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#step-1-create-folders">Step 1. Create folders</a></li>
<li><a href="#step-2-raw-files">Step 2. Raw Files</a></li>
<li><a href="#step-3-add-osm-files-to-josm">Step 3. Add OSM Files to JOSM</a></li>
<li><a href="#step-4-sync-field-data-with-osm-data">Step 4. Sync Field Data with OSM Data</a></li>
<li><a href="#5-1-cleaning-apartments">5.1  Cleaning Apartments</a></li>
<li><a href="#5-2-record-errors-encountered">5.2  Record Errors Encountered</a></li>
<li><a href="#step-6-save-final-files">Step 6. Save Final Files</a></li>
<li><a href="#6-1-private-data">6.1 Private Data</a></li>
<li><a href="#6-2-public-data-for-upload-to-osm">6.2 Public Data for upload to OSM</a></li>
<li><a href="#step-7-upload-to-osm">Step 7. Upload to OSM</a></li>
<li><a href="#step-8-quality-assurance-using-osmcha-qgis-josm-osmose">Step 8. Quality Assurance using OSMCha|QGIS|JOSM|Osmose</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
    
    <hr class="toc-divider">
    <a href="https://github.com/hotosm/toolbox/edit/master/content/en/pages/data-cleaning-upload-and-quality-assurance/5.2-OMK-Field-Data-Cleaning-Workflow.md" class="sub-title sub-title-12 toc-item"> <img src="../../../svg/pencil.svg" class="edit-icon" alt="">Edit this page on Github</a>
    <a 
    
    href="../../../pdfs/5.2-OMK-Field-Data-Cleaning-Workflow.pdf"
    
    class="sub-title sub-title-12 toc-item"> <img src="../../../svg/download.svg" class="download-icon" alt="">Download this page</a>
</div></aside>
</div>
<script src="../../../js/main.js"></script>
<script src="../../../js/search.js"></script>
<script src="../../../js/toc.js"></script></body>
</html>
